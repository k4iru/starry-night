(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(15),r=a.n(o),i=(a(24),a(5)),c=a(6),l=a(9),u=a(7),h=a(1),d=a(10);a(25);var m=function(e){var t,a,n,o,r,i,c,l=e.value;return l.moonPhase<.25&&(t="bad center-text",a="BAD"),l.moonPhase<.5&&(t="poor center-text",a="poor"),l.moonPhase<.75?(t="good center-text",a="good"):(t="peak",a="PEAK"),l.visibility<.25&&(n="bad center-text",o="BAD"),l.visibility<.5&&(n="poor center-text",o="poor"),l.visibility<.75?(n="good center-text",o="good"):(n="peak center-text",o="PEAK"),l.cloudCover<.25&&(r="peak center-text",i="PEAK"),l.cloudCover<.5&&(r="good center-text",i="good"),l.cloudCover<.75?(r="poor center-text",i="poor"):(r="bad center-text",i="BAD"),s.a.createElement("table",{className:"forecast"},s.a.createElement("tr",{className:"weekday"},s.a.createElement("th",{colspan:"2",className:"day"},(c=l.time,new Array("sunday","monday","tuesday","wednesday","thursday","friday","saturday")[new Date(1e3*c).getDay()]))),s.a.createElement("tr",null,s.a.createElement("td",{className:"title"},"Moon Phase"),s.a.createElement("td",{className:t},a)),s.a.createElement("tr",null,s.a.createElement("td",{className:"title"},"Visibility"),s.a.createElement("td",{className:n},o)),s.a.createElement("tr",null,s.a.createElement("td",{className:"title"},"Cloud Cover"),s.a.createElement("td",{className:r},i)))},g=a(16),v=a.n(g),f=a(17),p=a.n(f),b=(a(26),["Torrance Barrens Dark Sky Preserve","McDonald Park","Cypress Hills Inter-Provincial Park","Point Pelee National Park","Beaver Hills Dark Sky Preserve"]),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.onChange=a.onChange.bind(Object(h.a)(a)),a.onClick=a.onClick.bind(Object(h.a)(a)),a._onFocus=a._onFocus.bind(Object(h.a)(a)),a._onBlur=a._onBlur.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.props.onSearchChange(e.currentTarget.value);var t=b,a=e.currentTarget.value,n=t.filter(function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1});this.setState({activeSuggestion:0,filteredSuggestions:n,showSuggestions:!0,userInput:e.currentTarget.value})}},{key:"onClick",value:function(e){this.props.onSearchChange(e.currentTarget.innerText),this.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText})}},{key:"_onFocus",value:function(){this.state.showSuggestions||this.setState({showSuggestions:!0})}},{key:"_onBlur",value:function(){var e=this;setTimeout(function(){e.state.showSuggestions&&e.setState({showSuggestions:!1})},0)}},{key:"handleSubmit",value:function(e){this.props.onSubmitChange(e)}},{key:"render",value:function(){var e,t=this,a=this.props.isLoading;return this.state.showSuggestions&&this.state.userInput&&(e=this.state.filteredSuggestions.length?s.a.createElement("ul",{className:"suggestions"},this.state.filteredSuggestions.map(function(e,a){return a===t.state.activeSuggestion&&"suggestion-active",s.a.createElement("li",{className:"suggestion-item",key:e,onClick:t.onClick},e)})):s.a.createElement("div",{className:"no-suggestions"},s.a.createElement("em",null,"No suggestions"))),s.a.createElement("div",{id:"search-form"},s.a.createElement(n.Fragment,null,s.a.createElement("input",{className:"search-field",type:"text",onChange:this.onChange,value:this.state.userInput,onFocus:this._onFocus,onBlur:this._onBlur}),e),s.a.createElement(v.a,{className:"button",variant:"dark",disabled:a,onClick:a?null:this.handleSubmit},a?s.a.createElement(p.a,{animation:"border",role:"status",size:"sm"}):"Search"))}}]),t}(s.a.Component);E.defaultProps={suggestions:[]};var S=E,k=a(8),y=a.n(k),w=(a(32),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).messagesEnd=s.a.createRef(),a.state={response:null,search:"",isLoading:!1},a.searchHandler=a.searchHandler.bind(Object(h.a)(a)),a.submitHandler=a.submitHandler.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"searchHandler",value:function(e){this.setState({search:e})}},{key:"submitHandler",value:function(e){var t=this;this.setState({isLoading:!0},function(){console.log(t.state.search),fetch("/call?location=".concat(t.state.search)).then(function(e){return e.json()}).then(function(e){t.setState({response:e.data}),console.log("testing fetch api"),console.log(t.state.response)},function(e){Error(e)}).then(function(){t.setState({isLoading:!1}),t.state.search&&t.messagesEnd.scrollIntoView({behavior:"smooth"})})}),e.preventDefault()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e,t=this;return null!==this.state.response&&(e=s.a.createElement("div",{className:"flex-container"},s.a.createElement("h1",{className:"searched"},this.state.search),s.a.createElement(m,{value:this.state.response[0]}),s.a.createElement(m,{value:this.state.response[1]}),s.a.createElement(m,{value:this.state.response[2]}),s.a.createElement(m,{value:this.state.response[3]}))),s.a.createElement("div",{className:"App"},s.a.createElement(y.a,{className:"first-view"},s.a.createElement("div",{className:"spacer"}),s.a.createElement(S,{onSearchChange:this.searchHandler,onSubmitChange:this.submitHandler,isLoading:this.state.isLoading})),s.a.createElement(y.a,{className:"second-view"},s.a.createElement("div",{ref:function(e){t.messagesEnd=e}}),e))}}]),t}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.ed2d22ed.chunk.js.map